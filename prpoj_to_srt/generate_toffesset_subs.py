import subtitles
import datetime


INTERVAL = datetime.timedelta(seconds=10)
DISP_INTERVAL = datetime.timedelta(seconds=5)
OFFSET = 4.5


INTERVALS = [(0.0, 1.1200000000000001),
 (2.9199999999999999, 6.8399999999999999),
 (8.0399999999999991, 15.32),
 (15.76, 20.239999999999998),
 (21.16, 21.879999999999999),
 (22.640000000000001, 23.879999999999999),
 (28.760000000000002, 30.280000000000001),
 (30.600000000000001, 36.600000000000001),
 (36.600000000000001, 41.920000000000002),
 (41.920000000000002, 48.520000000000003),
 (49.399999999999999, 50.560000000000002),
 (51.039999999999999, 53.0),
 (53.840000000000003, 54.560000000000002),
 (54.920000000000002, 56.560000000000002),
 (58.200000000000003, 60.600000000000001),
 (61.439999999999998, 62.359999999999999),
 (63.359999999999999, 64.680000000000007),
 (65.040000000000006, 66.560000000000002),
 (91.040000000000006, 92.239999999999995),
 (92.599999999999994, 94.280000000000001),
 (94.799999999999997, 96.680000000000007),
 (97.159999999999997, 98.079999999999998),
 (106.40000000000001, 109.0),
 (109.68000000000001, 111.28),
 (112.0, 113.52),
 (113.95999999999999, 116.92),
 (116.92, 118.44),
 (118.44, 121.64),
 (122.31999999999999, 124.92),
 (124.92, 132.24000000000001),
 (132.59999999999999, 134.75999999999999),
 (141.47999999999999, 143.0),
 (144.31999999999999, 146.80000000000001),
 (163.68000000000001, 164.47999999999999),
 (165.96000000000001, 170.59999999999999),
 (177.16, 181.91999999999999),
 (181.91999999999999, 186.56),
 (190.03999999999999, 191.47999999999999),
 (194.31999999999999, 198.31999999999999),
 (214.68000000000001, 215.96000000000001),
 (217.0, 218.72),
 (221.56, 223.68000000000001),
 (224.28, 225.16),
 (259.92000000000002, 263.72000000000003),
 (264.04000000000002, 266.0),
 (267.12, 269.27999999999997),
 (269.75999999999999, 271.56),
 (271.95999999999998, 272.56),
 (285.24000000000001, 290.07999999999998),
 (290.88, 293.12),
 (293.39999999999998, 295.83999999999997),
 (296.24000000000001, 299.31999999999999),
 (299.51999999999998, 300.88),
 (306.95999999999998, 309.51999999999998),
 (328.75999999999999, 332.27999999999997),
 (354.88, 357.88),
 (359.24000000000001, 361.24000000000001),
 (364.12, 365.31999999999999),
 (366.75999999999999, 369.27999999999997),
 (385.27999999999997, 387.31999999999999)]


def MakeSubs(fname):
    text = open(fname).read()
    subfile = []


    phrases_list = text.split('#')
    
    titles_list = []
    
    for phrase, interval in zip(phrases_list, INTERVALS):
        phrase = phrase.strip()
        phrase = ' '.join(phrase.splitlines())
        title_tuple = (interval[0] + OFFSET, interval[1] + OFFSET, phrase)
        titles_list.append(title_tuple)
    
    subformat = subtitles.Youtube()
    subs = subformat.render(titles_list)
    open(fname + subformat.extension, 'w').write(subs)

MakeSubs('SubtitlesEnglish.txt')
MakeSubs('SubtitlesHebrew.txt')

